<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GamerVault | Automated Premium Exchange</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <style>
        :root { --gold: #fed100; --dark: #0d0d0d; --card-bg: #161616; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--dark); color: white; margin: 0; text-align: center; }
        .ticker { background: var(--gold); color: black; font-size: 11px; font-weight: 800; padding: 8px; text-transform: uppercase; }
        nav { display: flex; justify-content: space-between; align-items: center; padding: 15px 5%; background: #111; border-bottom: 1px solid #222; }
        .logo { font-size: 24px; font-weight: 900; color: var(--gold); }
        .container { max-width: 1000px; margin: 0 auto; padding: 40px 20px; }
        .paywall { background: #1a1a1a; border: 2px solid var(--gold); border-radius: 20px; padding: 40px 20px; margin-top: 30px; }
        .featured-list { display: grid; grid-template-columns: 1fr; gap: 20px; margin-bottom: 40px; }
        .card { background: var(--card-bg); border: 2px solid var(--gold); border-radius: 15px; padding: 20px; position: relative; }
        .badge { position: absolute; top: 10px; right: 10px; background: var(--gold); color: black; padding: 4px 10px; border-radius: 5px; font-weight: bold; font-size: 12px; }
        .hidden { display: none; }
        input { width: 80%; padding: 10px; margin: 10px 0; border-radius: 5px; border: none; }
        .btn { background: var(--gold); color: black; padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: bold; cursor: pointer; border: none; }
    </style>
</head>
<body>

<div class="ticker">✓ 100% Automated Featured Listings ● BDP Verified Escrow</div>

<nav>
    <div class="logo">GAMERVAULT</div>
    <div style="color:#00ff66; font-size:12px; font-weight:bold;">● LIVE AUTOMATION ACTIVE</div>
</nav>

<div class="container">
    <h2 style="color:var(--gold);">VIP FEATURED LISTINGS</h2>
    <div id="featured-list" class="featured-list">
        <p style="color:#444;">No featured accounts currently. Be the first!</p>
    </div>

    <div class="paywall" id="checkout-section">
        <h2>Promote Your Account</h2>
        <p>Pay <strong>$10.20</strong> to move your ad to the top automatically.</p>
        <div id="paypal-button-container" style="max-width: 350px; margin: 20px auto;"></div>
    </div>

    <div id="success-form" class="paywall hidden">
        <h2 style="color:#00ff66;">Payment Verified!</h2>
        <p>Enter your account details to go live instantly.</p>
        <input type="text" id="accTitle" placeholder="Account Title (e.g. GTA V Modded 500M)"><br>
        <input type="text" id="accPrice" placeholder="Your Selling Price (e.g. $20)"><br>
        <input type="text" id="accLink" placeholder="Your Telegram Link (https://t.me/yourname)"><br>
        <button class="btn" onclick="submitToVault()">POST TO TOP NOW</button>
    </div>
</div>

<script src="https://www.paypal.com/sdk/js?client-id=AewX9Z7LNB6DZTa8jcMeDa5SEGB_nq2f2A_tdpZesgEUROomDxIp-e-Bs2GXruNPs_aCRV1SY291Lvqa&currency=USD"></script>

<script>
    // 1. FIREBASE SETUP (I'll help you get these keys in a second)
    const firebaseConfig = {
        apiKey: "AIzaSyAwWWQAuYFTCP8cjpDFs7JEkBG-sr7I6dw",
        databaseURL: "https://gamervault-ae418-default-rtdb.firebaseio.com",
        projectId: "gamervault-bdp"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // 2. LOAD LIVE DATA FROM DATABASE
    db.ref('featured').on('value', (snapshot) => {
        const data = snapshot.val();
        const container = document.getElementById('featured-list');
        if(data) {
            container.innerHTML = "";
            Object.values(data).reverse().forEach(acc => {
                container.innerHTML += `
                    <div class="card">
                        <div class="badge">VIP FEATURED</div>
                        <h3>${acc.title}</h3>
                        <div style="font-size:24px; font-weight:900;">${acc.price}</div>
                        <a href="${acc.link}" class="btn" target="_blank">CONTACT SELLER</a>
                    </div>`;
            });
        }
    });

    // 3. PAYPAL AUTOMATION
    paypal.Buttons({
        createOrder: (data, actions) => {
            return actions.order.create({ purchase_units: [{ amount: { value: '10.20' } }] });
        },
        onApprove: (data, actions) => {
            return actions.order.capture().then(details => {
                document.getElementById('checkout-section').classList.add('hidden');
                document.getElementById('success-form').classList.remove('hidden');
            });
        }
    }).render('#paypal-button-container');

    // 4. SUBMIT TO DATABASE
    function submitToVault() {
        const title = document.getElementById('accTitle').value;
        const price = document.getElementById('accPrice').value;
        const link = document.getElementById('accLink').value;

        if(title && price && link) {
            db.ref('featured').push({ title, price, link });
            alert("Success! Your account is now at the top of GamerVault.");
            location.reload();
        } else {
            alert("Fill in all boxes!");
        }
    }
</script>
</body>
</html>